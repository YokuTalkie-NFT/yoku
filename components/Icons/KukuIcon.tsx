import { useSpring, animated } from '@react-spring/web';
import { useEffect } from 'react';
import { throttle } from 'lodash';
import { IconSvgProps } from '@/types';

export const KukuIcon: React.FC<IconSvgProps> = ({ size = 300 }) => {
  const moveLimit = 5;

  const [{ cx1, cy1, cx2, cy2 }, set] = useSpring(() => ({
    cx1: 95.66,
    cy1: 64.48,
    cx2: 134.07,
    cy2: 64.71,
  }));

  useEffect(() => {
    const handleMouseMove = (e: MouseEvent) => {
      const centerX = window.innerWidth / 2;
      const centerY = window.innerHeight / 2;

      const diffX = e.clientX - centerX;
      const diffY = e.clientY - centerY;

      const moveX = (diffX / centerX) * moveLimit;
      const moveY = (diffY / centerY) * moveLimit;

      set({
        cx1: 90.66 - moveY,
        cy1: 64.48 + moveX,
        cx2: 129.07 - moveY,
        cy2: 64.71 + moveX,
      });
    };

    const throttledHandleMouseMove = throttle(handleMouseMove, 100);

    window.addEventListener('mousemove', throttledHandleMouseMove);

    return () => {
      window.removeEventListener('mousemove', throttledHandleMouseMove);
    };
  }, [set]);

  return (
    <svg width={size} height={size} viewBox="0 0 252.77 342.82">
      <g id="all">
        <g id="kukubody">
          <g>
            <path
              style={{
                strokeWidth: '3.58px',
                fill: '#f4b8bb',
                stroke: '#000',
                strokeLinecap: 'round',
                strokeLinejoin: 'round',
              }}
              d="M206.51,328.53c-.12,1.22-.39,2.44-.75,3.66-1.39,4.73-4.39,7.56-9,8.5-3.21,.66-7.66,.2-10.08,.2-8.91-.01-17.82-.09-26.73-.26-3.03-.05-5.82-.22-8.35-.51-2.69-.31-5.48-.77-8.37-1.39-2.19-.47-4.18-.76-5.99-.85-1.91-.11-3.77-.34-5.59-.69-3.43-.66-5.9-1.17-10.27-1.95-2.25-.39-4.36-.8-6.32-1.23-2.59-.58-6.23-.92-10.93-1.04-2.89-.07-5.86-.11-8.91-.13-1.92-.01-3.82,.1-5.73,.33-5.23,.64-10.18,1.51-14.86,2.62-2.89,.7-5.73,1.05-8.52,1.07-6.98,.05-13.45,.07-19.4,.05-3,0-7.02-.63-12.08-1.84-5.4-1.3-9.23-4.8-9.29-10.71-.05-5.82,1.02-10.22,6-13.59,.8-.55,1.35-1.4,1.5-2.35,.32-1.99,.72-4.03,1.18-6.14,.92-4.12,1.15-8.25,2.22-12.51,.34-1.34,.64-2.77,.9-4.29,.25-1.37,.57-2.78,.95-4.24,.69-2.57,.89-5.28,1.44-7.81,.61-2.86,1.28-5.77,2.01-8.73,.08-.31,.24-.6,.46-.83,.28-.3,.42-.66,.41-1.07-.02-1.65,.93-4.22,1.5-5.61,.47-1.14,.8-2.35,.99-3.64,.19-1.32,.55-2.58,1.07-3.79,.51-1.17,.87-2.43,1.08-3.78,.2-1.21,.51-2.45,.92-3.74,.53-1.6,1.12-3.47,1.8-5.58,.21-.68,.36-1.26,.43-1.77,.41-2.81,.99-4.98,1.75-6.49,.32-.65,.53-1.26,.63-1.86,.12-.75,.19-1.14,.2-1.17,2.08-7.7,4.23-15.27,6.45-22.71l3.24-15.71,4.53-15.08s5.38-11.63,4.67-33.72c0,0,5.27-32.68,8.1-48.29,0,0,2.94-51.28,18.13-76.76,0,0,7.17-14.51,35.29-10.62s36.8,22.97,36.8,22.97c0,0-1,13.56-.7,64.84,.25,42.52,5.62,50.58,15.77,68.37,5.36,9.4,10.43,23.37,14.56,40.79l1.12,4.64c.87,6.1,1.9,12.08,2.32,18.23,.49,7.14,.85,11.82,1.09,14.05,1.26,11.73,2.26,23.47,3.03,35.19,0,0,1.39,36.12-.68,56.98Z"
            />
            <path
              style={{
                strokeWidth: '3.58px',
                fill: '#f4b8bb',
                stroke: '#000',
                strokeLinecap: 'round',
                strokeLinejoin: 'round',
              }}
              d="M92.84,4.23s-28.22-6.27-41.46,34.62c0,0-2.16,6.89-3.38,16.96-1.21,10.07-5,19.49-12.43,28.55-7.42,9.07-12.71,15.16-14.87,22.05-2.16,6.89-2.41,17.02-2.12,22.77,.29,5.76-.44,12.82-9.76,23.36-9.32,10.54-8.03,24.59-3.82,28.8,4.21,4.22,15.14,8.2,27.7,1.23,0,0,8.9-1.83,15.58-17.95,0,0,4.15-11.57,11.73-16.68,7.58-5.11,10.42-13.88,12.27-22.62,1.85-8.73,.94-24.25,.94-24.25,0,0,1.87-18.72,11.89-31.83,0,0,10.89-11.12,16.29-28.35,5.4-17.23,3.52-33.95-8.56-36.68Z"
            />
            <path
              style={{
                strokeWidth: '3.58px',
                fill: '#f4b8bb',
                stroke: '#000',
                strokeLinecap: 'round',
                strokeLinejoin: 'round',
              }}
              d="M146.68,13.93c-.87,.5-12.91,9.71,1.47,43.06,0,0,5.54,15.53,13.71,23.66,8.17,8.13,15.18,20.99,15.61,32.72,.42,11.73,6.9,25.67,17.7,30.91,10.8,5.24,16.44,21.45,16.44,21.45,0,0,10.04,19.82,27.99,12.96,17.95-6.87,10.15-33.59,6.79-40.82-3.36-7.23-17.78-25.23-21.04-26.85-3.26-1.62-13.14-6.67-16.7-35.98,0,0-4.06-32.64-22.33-40.9,0,0-5.37-2.11-14.59-15.2s-22.79-6.32-25.03-5.02Z"
            />
            <path
              style={{
                fill: '#f4b8bb',
              }}
              d="M122.76,79.32c-17.88,26.31-36.71,54.39-59.31,33.54-23.26-21.45-2.12-36.83,15.76-63.14,17.88-26.31,41.58-38.35,55.35-33.66,6.34,2.16,6.08,36.95-11.79,63.26Z"
            />
          </g>
        </g>
        <g id="kukueyeframe">
          <g>
            <path
              style={{
                fill: '#fff',
              }}
              d="M90.19,79.21c-2.3-.01-4.5-1.42-6.19-3.96-1.83-2.74-2.82-6.4-2.8-10.31,.05-7.81,4.14-14.16,9.13-14.16,3.34,.02,5.65,1.28,7.09,3.85,1.31,2.34,1.96,5.84,1.94,10.41-.08,13.14-6.99,14.16-9.11,14.16h-.06Z"
            />
            <path d="M90.33,49.13l.02,3.3c2.73,.02,4.47,.95,5.62,3.01,1.17,2.09,1.75,5.32,1.73,9.6-.02,2.94-.61,12.52-7.5,12.52-2.34-.01-4.03-2.03-4.83-3.22-1.62-2.43-2.54-5.85-2.52-9.38,.04-6.67,3.53-12.52,7.48-12.52v-3.3m0,0c-5.91,0-10.73,7.06-10.78,15.8-.05,8.76,4.71,15.89,10.63,15.93h.07c7.26,0,10.7-7.07,10.76-15.8,.05-8.76-2.24-15.88-10.63-15.93h-.04Z" />
          </g>
          <g>
            <path
              style={{
                fill: '#fff',
              }}
              d="M128.55,79.46c-4.92-.03-9.04-6.56-8.99-14.27,.05-7.81,4.14-14.16,9.13-14.16,3.93,.02,9.1,1.53,9.03,14.27-.08,13.14-6.99,14.16-9.11,14.16h-.06Z"
            />
            <path d="M128.69,49.39l.02,3.3c2.73,.02,4.47,.94,5.62,3.01,1.17,2.09,1.75,5.32,1.73,9.6-.02,2.94-.61,12.52-7.5,12.52-2.34-.01-4.03-2.03-4.83-3.22-1.62-2.43-2.54-5.85-2.52-9.38,.04-6.67,3.53-12.52,7.48-12.52v-3.3m0,0c-5.9,0-10.73,7.06-10.78,15.8-.05,8.76,4.71,15.89,10.63,15.93h.07c7.26,0,10.7-7.07,10.76-15.8,.05-8.76-2.24-15.88-10.63-15.93h-.04Z" />
          </g>
        </g>
        <g id="kukuhands1">
          <path
            style={{
              strokeWidth: '3.58px',
              fill: '#f4b8bb',
              stroke: '#000',
              strokeLinecap: 'round',
              strokeLinejoin: 'round',
            }}
            d="M166.33,201.08c-1.2,10.63-8.12,20.43-17.73,25.13-4.77,2.33-9.48,4.96-13.8,8.06-4.31,3.09-8.29,12.29-7.32,20.4,0,0,1.77,30.53,36.02,19.32,7.39-2.42,20.01-9.68,25.76-14.93,7.85-7.17,9.32-8.4,15.09-17.32"
          />
          <path
            style={{
              strokeWidth: '3.58px',
              fill: '#f4b8bb',
              stroke: '#000',
              strokeLinecap: 'round',
              strokeLinejoin: 'round',
            }}
            d="M82.19,199.7c1.2,10.63,8.12,20.43,17.73,25.13,4.77,2.33,10.14,4.49,14.46,7.58,4.31,3.09,8.85,11.81,6.61,22.53,0,0-2.95,27.37-37.2,16.16-7.39-2.42-20.53-9.17-25.76-14.93-6.45-7.11-3.32-3.4-9.09-12.32"
          />
        </g>
        <g id="kukueyeball">
          <animated.ellipse
            cx={cx1}
            cy={cy1}
            rx="12.02"
            ry="6.69"
            transform="translate(25.63 154.75) rotate(-89.66)"
          />
          <animated.ellipse
            cx={cx2}
            cy={cy2}
            rx="12.02"
            ry="6.61"
            transform="translate(63.58 193.39) rotate(-89.66)"
          />
        </g>
        <path
          id="kukumask"
          style={{
            fill: '#f4b8bb',
          }}
          d="M136.12,25.46H59.47V118.01h78.86l14.24-21.01-16.44-71.54Zm-45.93,55.4c-5.93-.04-10.69-7.17-10.63-15.93,.05-8.76,4.9-15.84,10.82-15.8,8.4,.05,10.69,7.17,10.63,15.93-.05,8.76-3.52,15.84-10.82,15.8Zm38.36,.25c-5.93-.04-10.69-7.17-10.63-15.93,.05-8.76,4.9-15.83,10.82-15.8,8.4,.05,10.69,7.17,10.63,15.93-.05,8.76-3.52,15.84-10.82,15.8Z"
        />
        <g id="kukuglass">
          <path
            style={{
              fill: 'none',
              stroke: '#000',
              strokeLinecap: 'round',
              strokeLinejoin: 'round',
              strokeWidth: '3px',
            }}
            d="M65.8,74.07c-3.03,7.55,.05,17.15,7.09,21.21s17.17,1.71,21.4-5.23c4.23-6.94,1.42-17.3-5.89-20.85-2.56-1.24-5.47-1.69-8.32-1.54-6.08,.31-9.82,.26-14.28,6.41"
          />
          <path
            style={{
              fill: 'none',
              stroke: '#000',
              strokeLinecap: 'round',
              strokeLinejoin: 'round',
              strokeWidth: '3px',
            }}
            d="M125.82,70.54c-7.72-.26-13.24,11.14-9.83,18.08,3.41,6.94,13.11,9.29,20.02,5.84,5.76-2.87,9.71-9.75,7.92-15.94-1.79-6.19-11.41-9.34-18.11-7.98"
          />
          <path
            style={{
              fill: 'none',
              stroke: '#000',
              strokeLinecap: 'round',
              strokeLinejoin: 'round',
              strokeWidth: '3px',
            }}
            d="M96.53,88.47c1.74,.84,2.97,1.24,4.9,1.04,.36-2.04,.38-3.39-.06-5.63,1.54-3.25,5.58-3.29,7.32-.14,1.03,1.86,.77,4.15,1.4,6.18s5.4,1.88,7.03,.52"
          />
        </g>
        <g id="kukumouse1">
          <path
            style={{
              fill: 'none',
              stroke: '#000',
              strokeLinecap: 'round',
              strokeLinejoin: 'round',
              strokeWidth: '3px',
            }}
            d="M107.13,96.25c.81-.25,1.76,.51,1.69,1.35-1.91,1.58-3.96,1.36-2.92-.89,2.16-.1,2.8-.37,2.55,1.78-.88,2.34-3.99,2.16-4.42-.3-.43-2.46,1.86-4.85,3.95-3.5,1.9,1.23,1.93,4.47,.06,5.74s-4.87,.05-5.32-2.17,1.85-4.51,4.07-4.05c.7,.73,.43,2.13-.49,2.56-.84-.53,.84,.53,0,0,1.2-.12-.08-1.36,.87-.61-.37,.87-.36,1.42-1.18,.95,2-.47,1.93,2.25,1.48,4.25-1.14,5.07-7.2,8.38-12.08,6.61"
          />
          <path
            style={{
              fill: 'none',
              stroke: '#000',
              strokeLinecap: 'round',
              strokeLinejoin: 'round',
              strokeWidth: '3px',
            }}
            d="M108.66,99.62c-1.75,4.11,1.19,9.48,5.6,10.21"
          />
        </g>
      </g>
    </svg>
  );
};
