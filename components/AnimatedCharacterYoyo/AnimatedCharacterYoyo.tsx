'use client';

import { animated, useSpring } from '@react-spring/web';
import { FC, useEffect } from 'react';

interface AnimatedCharacterYoyoProps {
  mousePosition: { x: number; y: number };
  size?: number;
}

export const AnimatedCharacterYoyo: FC<AnimatedCharacterYoyoProps> = ({
  mousePosition,
  size = 180,
}) => {
  const moveLimit = 5;

  const [{ cx1, cy1, cx2, cy2 }, set] = useSpring(() => ({
    cx1: 99.52,
    cy1: 70.51,
    cx2: 161.82,
    cy2: 68.04,
  }));

  useEffect(() => {
    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;

    const diffX = mousePosition.x - centerX;
    const diffY = mousePosition.y - centerY;

    const moveX = (diffX / centerX) * moveLimit;
    const moveY = (diffY / centerY) * moveLimit;

    set({
      cx1: 99.52 + moveX,
      cy1: 75.51 + moveY,
      cx2: 161.82 + moveX,
      cy2: 73.04 + moveY,
    });
  }, [mousePosition, set]);

  return (
    <svg width={size} height={size} viewBox="0 0 220.39 287.26">
      <g id="all">
        <g id="yoyobody">
          <path
            style={{
              fill: '#f8f6f4',
              stroke: '#000',
              strokeLinecap: 'round',
              strokeLinejoin: 'round',
              strokeWidth: '3.58px',
            }}
            d="M187.74,130.7c34.76-4.39,14.27-50.3,15.18-67.59,.92-17.29,8.32-20.76,6.45-37.56-1.87-16.81-11.83-27.92-32.61-22.26-14.45,3.93-15.8,17.82-19.76,24.42-2.74,4.57-3.14,9.7-26.32,9.62-5.88-.02-15.66,.56-21.37-.66-7.28-1.55-12.38-8.45-17.2-17.68-4.85-9.3-14.14-19.97-34.04-13.6-19.63,6.28-21.83,25.65-19.14,36.04,4.78,18.45,15.61,31.47,15.04,60.66-.27,13.75-6.4,28.03-9.67,41.79l-1.12,4.64c-.87,6.1-1.9,12.08-2.32,18.23-.49,7.14-.85,11.82-1.09,14.05-1.26,11.73-2.26,23.47-3.03,35.19-.06,.87-.52,1.22-1.37,1.04-3.78-.79-7.82-1.04-12.14-.76-5.81,.41-10.71,2.65-14.68,6.75-3.72,3.84-5.83,8.06-6.36,12.66-.39,3.4-.5,7.45-.33,12.17,.23,6.36,2.54,11.79,6.92,16.3,.09,.09,.18,.16,.29,.2,.17,.05,.31,.15,.42,.3,1.12,1.46,2.54,2.56,4.26,3.33,.11,.05,.21,.06,.29,.03,.07-.03,.14-.08,.21-.14,.03-.03,.07-.03,.1,0,2.81,2.65,5.2,2.75,8.25,4.04,.31,.13,.62,.16,.93,.09,.57-.11,1.11-.06,1.64,.16,.29,.12,.59,.18,.89,.18h10.66c.41,0,.65,.21,.7,.63,.14,1.22,.39,2.44,.75,3.66,1.39,4.73,4.39,7.56,9,8.5,3.21,.66,7.66,.2,10.08,.2,8.91-.01,17.82-.09,26.73-.26,3.03-.05,5.82-.22,8.35-.51,2.69-.31,5.48-.77,8.37-1.39,2.19-.47,4.18-.76,5.99-.85,1.91-.11,3.77-.34,5.59-.69,3.43-.66,5.9-1.17,10.27-1.95,2.25-.39,4.36-.8,6.32-1.23,2.59-.58,6.23-.92,10.93-1.04,2.89-.07,5.86-.11,8.91-.13,1.92-.01,3.82,.1,5.73,.33,5.23,.64,10.18,1.51,14.86,2.62,2.89,.7,5.73,1.05,8.52,1.07,6.98,.05,13.45,.07,19.4,.05,3,0,7.02-.63,12.08-1.84,5.4-1.3,9.23-4.8,9.29-10.71,.05-5.82-1.02-10.22-6-13.59-.8-.55-1.35-1.4-1.5-2.35-.32-1.99-.72-4.03-1.18-6.14-.92-4.12-1.15-8.25-2.22-12.51-.34-1.34-.64-2.77-.9-4.29-.25-1.37-.57-2.78-.95-4.24-.69-2.57-.89-5.28-1.44-7.81-.61-2.86-1.28-5.77-2.01-8.73-.08-.31-.24-.6-.46-.83-.28-.3-.42-.66-.41-1.07,.02-1.65-.93-4.22-1.5-5.61-.47-1.14-.8-2.35-.99-3.64-.19-1.32-.55-2.58-1.07-3.79-.51-1.17-.87-2.43-1.08-3.78-.2-1.21-.51-2.45-.92-3.74-.53-1.6-1.12-3.47-1.8-5.58-.21-.68-.36-1.26-.43-1.77-.41-2.81-.99-4.98-1.75-6.49-.32-.65-.53-1.26-.63-1.86-.12-.75-.19-1.14-.2-1.17-2.08-7.7-4.23-15.27-6.45-22.71l-3.24-15.71,6.27-.67Z"
          />
        </g>
        <g id="yoyoeyeframe">
          <path d="M161.68,57.29c6.17,0,11.48,7.23,11.84,16.13,.18,4.6-.95,8.94-3.19,12.22-2.04,2.99-4.76,4.7-7.65,4.82-.18,0-.36,.01-.54,.01-9.9,0-11.42-11.28-11.61-16.13-.22-5.58,.42-9.64,1.97-12.39,1.06-1.88,3.13-4.41,8.86-4.64,.11,0,.21,0,.31,0m0-3.14c-.15,0-.29,0-.44,0-11.7,.46-14.28,9.41-13.85,20.29,.42,10.64,5.12,19.15,14.74,19.15,.22,0,.44,0,.67-.01,8.08-.32,14.28-9.41,13.85-20.29-.42-10.69-7.08-19.14-14.97-19.14h0Z" />
          <path d="M99,59.67c6.17,0,11.48,7.23,11.84,16.13,.18,4.6-.95,8.94-3.19,12.22-2.04,2.99-4.76,4.7-7.65,4.82-.18,0-.36,.01-.54,.01-9.9,0-11.42-11.28-11.61-16.13-.22-5.58,.42-9.64,1.97-12.39,1.06-1.88,3.13-4.41,8.86-4.64,.11,0,.21,0,.31,0m0-3.14c-.15,0-.29,0-.44,0-11.7,.46-14.28,9.41-13.85,20.29,.42,10.64,5.12,19.15,14.74,19.15,.22,0,.44,0,.67-.01,8.08-.32,14.28-9.41,13.85-20.29-.42-10.69-7.08-19.14-14.97-19.14h0Z" />
        </g>
        <g id="yoyoeyeball">
          <animated.ellipse
            cx={cx1}
            cy={cy1}
            rx="10.89"
            ry="15.01"
            transform="translate(-2.92 4) rotate(-2.27)"
          />
          <animated.ellipse
            cx={cx2}
            cy={cy2}
            rx="10.19"
            ry="14.99"
            transform="translate(-2.77 6.47) rotate(-2.27)"
          />
        </g>
        <path
          id="yoyomask"
          style={{
            fill: '#f8f6f4',
          }}
          d="M56.74,41.16V116.8H200.84V41.16H56.74Zm43.39,54.81c-10.08,.4-14.98-8.25-15.41-19.13-.43-10.89,2.14-19.83,13.85-20.29,8.08-.32,14.98,8.25,15.41,19.13,.43,10.89-5.77,19.97-13.85,20.29Zm62.68-2.38c-10.08,.4-14.98-8.25-15.41-19.13-.43-10.89,2.14-19.83,13.85-20.29,8.08-.32,14.98,8.25,15.41,19.13,.43,10.89-5.77,19.97-13.85,20.29Z"
        />
        <ellipse
          id="yoyonose"
          style={{
            stroke: '#000',
            strokeMiterlimit: 10,
            strokeWidth: '2.69px',
          }}
          cx="131.61"
          cy="88.72"
          rx="5.7"
          ry="4.32"
        />
        <g id="yoyomouse1">
          <path
            style={{
              strokeWidth: '4.16px',
              stroke: '#000',
              strokeLinecap: 'round',
              strokeLinejoin: 'round',
            }}
            d="M138.7,101.01s-6.3,2.54-15.94,0"
          />
          <line
            style={{
              stroke: '#000',
              strokeLinecap: 'round',
              strokeMiterlimit: 10,
              strokeWidth: '3.12px',
            }}
            x1="131.58"
            y1="93.08"
            x2="129.86"
            y2="102.29"
          />
        </g>
        <g id="yoyohands1">
          <path
            style={{
              fill: '#f8f6f4',
              stroke: '#000',
              strokeLinecap: 'round',
              strokeLinejoin: 'round',
              strokeWidth: '3.58px',
            }}
            d="M157.54,149.23c-1.2,10.63-8.12,20.43-17.73,25.13-4.77,2.33-9.48,4.96-13.8,8.06-4.31,3.09-8.29,12.29-7.32,20.4,0,0,1.77,30.53,36.02,19.32,7.39-2.42,20.01-9.68,25.76-14.93,7.85-7.17,9.32-8.4,15.09-17.32"
          />
          <path
            style={{
              fill: '#f8f6f4',
              stroke: '#000',
              strokeLinecap: 'round',
              strokeLinejoin: 'round',
              strokeWidth: '3.58px',
            }}
            d="M73.4,147.85c1.2,10.63,8.12,20.43,17.73,25.13,4.77,2.33,10.14,4.49,14.46,7.58,4.31,3.09,8.85,11.81,6.61,22.53,0,0-2.95,27.37-37.2,16.16-7.39-2.42-20.53-9.17-25.76-14.93-6.45-7.11-4.32-4.4-10.09-13.32"
          />
        </g>
      </g>
    </svg>
  );
};
